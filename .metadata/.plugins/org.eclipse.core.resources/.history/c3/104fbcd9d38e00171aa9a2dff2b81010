
public class Line {

	private double x1, y1, x2, y2;
	private double pX, pY;

	public Line(double x1, double y1, double x2, double y2) {

		this.x1 = x1;
		this.y1 = y1;
		this.x2 = x2;
		this.y2 = y2;

		this.pX = 0;
		this.pY = 100;

	}

	public void draw(DrawingSurface drawingSurface) {
		drawingSurface.line((int) y1, (int) y1, (int) x2, (int) y2);
		drawingSurface.ellipse((float) pX, (float) pY, 10f, 10f);
	}

	public boolean intersects(Line l2) {

		double x3 = l2.x1;
		double x4 = l2.x2;
		double y3 = l2.y1;
		double y4 = l2.y2;

		double num1 = ((x1 * y2 - y1 * x2) * (x3 - x4)) - ((x1 - x2) * (x3 * y4 - y3 * x4));
		double denom = ((x1 - x2) * (y3 - y4)) - ((y1 - y2) * (x3 - x4));
		double num2 = ((x1 * y2 - y1 * x2) * (y3 - y4)) - ((y1 - y2) * (x3 * y4 - y3 * x4));

		
		pX = num1 / denom;
		pY = num2 / denom;
		
		System.out.println(pX + " " + Math.min(Math.min(x1, x2), Math.min(x3, x4)));
		
//		System.out.println(x1);
//		System.out.println(y1);
//		System.out.println(x2);
//		System.out.println(y2);
//		System.out.println(x3);
//		System.out.println(y3);
//		System.out.println(x4);
//		System.out.println(y4);

		if (denom != 0) {

			pX = num1 / denom;
			pY = num2 / denom;
			
			if (pX >= Math.min(Math.min(x1, x2), Math.min(x3, x4)) && pX <= Math.max(Math.max(x1, x2), Math.max(x3, x4)))
				if (pY >= Math.min(Math.min(y1, y2), Math.min(y3, y4)) && pY <= Math.max(Math.max(y1, y2), Math.max(y3, y4)))
					return true;
			
//			if ((pX > Math.min(x1, x2) && pX < Math.max(x1, x2)) && (pX > Math.min(x3, x4) && pX < Math.max(x3, x4))) {
//				if ((pY > Math.min(y1, y2) && pY < Math.max(y1, y2))
//						&& (pY > Math.min(y3, y4) && pY < Math.max(y3, y4))) {
//					return true;
//				}
//			}
		}
			
//		} else if (denom == 0) {
//			return false;
//		} else if (denom == 0 && denom != 0) {
//			pY = num2 / denom;
//			if ((pY > Math.min(y1, y2) && pY < Math.max(y1, y2)) && (pY > Math.min(y3, y4) && pY < Math.max(y3, y4))) {
//				return true;
//			}
//		} else if (denom != 0 && denom == 0) {
//			pY = num1 / denom;
//			if ((pY > Math.min(y1, y2) && pY < Math.max(y1, y2)) && (pY > Math.min(y3, y4) && pY < Math.max(y3, y4))) {
//				return true;
//			}
//		}
		
		return false;

	}

	public void setPoint2(double x2, double y2) {

		this.x2 = x2;
		this.y2 = y2;

	}

}
